<!-- Toolbar fija -->
<mat-toolbar class="toolbar mat-elevation-z4" [ngStyle]="{'background-color': tiendaInfo.colorTienda, 'color': textColor}">
  <button mat-icon-button (click)="snav.toggle()" class="menu-button">
    <mat-icon>menu</mat-icon>
  </button>

  <span class="toolbar-title">{{ tiendaInfo.nombreTienda }}</span>

  <span class="spacer"></span>

  <button mat-icon-button [routerLink]="dataUser.id ? '/config/perfil' : '/login'">
    <mat-icon>person_pin</mat-icon>
  </button>
</mat-toolbar>

<!-- Contenedor principal -->
<mat-sidenav-container class="sidenav-container">

  <!-- Menú lateral -->
  <mat-sidenav #snav class="sidenav" mode="side" [opened]="isDesktop">
    <!-- Logo y cabecera -->
    <div class="menu-header">
      <img [src]="tiendaInfo.logo || './assets/img/logo.png'" alt="Logo" class="logo">
    </div>

    <!-- Botón cerrar sesión -->
    <div class="logout-section">
      <button mat-raised-button color="warn" (click)="salir()">Cerrar sesión</button>
    </div>

    <!-- Lista de menús -->
    <mat-nav-list class="menu-scroll">
      <h3 class="menu-title">Menú Principal</h3>

      <ng-container *ngFor="let item of menus">
        <!-- Menú sin submenú -->
        <a mat-list-item [routerLink]="item.url" routerLinkActive="active" *ngIf="!item.submenus.length">
          <mat-icon class="menu-icon">{{ item.icons }}</mat-icon>
          <span class="menu-text">{{ item.nombre }}</span>
        </a>

        <!-- Menú con submenú -->
        <mat-expansion-panel class="submenu-panel" *ngIf="item.submenus.length">
          <mat-expansion-panel-header>
            <mat-icon class="menu-icon">{{ item.icons }}</mat-icon>
            <span class="menu-text">{{ item.nombre }}</span>
          </mat-expansion-panel-header>
          <mat-nav-list>
            <a mat-list-item *ngFor="let sub of item.submenus" [routerLink]="sub.url" routerLinkActive="active">
              {{ sub.nombre }}
            </a>
          </mat-nav-list>
        </mat-expansion-panel>
      </ng-container>

      <!-- Otros menús -->
      <ng-container *ngFor="let item of menus2">
        <a mat-list-item (click)="EventMenus(item)">
          <mat-icon class="menu-icon">{{ item.icons }}</mat-icon>
          <span class="menu-text">{{ item.nombre }}</span>
        </a>
      </ng-container>
    </mat-nav-list>
  </mat-sidenav>

  <!-- Contenido -->
  <mat-sidenav-content class="main-content">
    <ng-content></ng-content>
  </mat-sidenav-content>

</mat-sidenav-container>
