<div class="container-fluid">
  <div class="row">
    <div class="col-md-12">
      <mat-card class="p-3">
        <mat-card-header>
          <mat-card-title>
            <mat-icon>settings</mat-icon> Mi Configuraci√≥n
          </mat-card-title>
        </mat-card-header>
        <mat-card-content>

          <!-- üìå Bot√≥n de actualizar -->
          <div class="d-flex justify-content-end">
            <button mat-raised-button color="primary" (click)="Actualizar()">
              <mat-icon>refresh</mat-icon> Actualizar Datos
            </button>
          </div>

          <div class="row p-3">
            <!-- üì∏ Logo de la Tienda -->
            <div class="col-12 text-center">
              <img *ngIf="data.logo" [src]="data.logo" class="img-fluid rounded shadow mb-3" style="max-width: 200px;">
            </div>

            <div class="col-12">
              <div class="row container">
                  <label>logo de la Tienda</label>
                  <button class="btn btn-primary btn-just-icon btn-round" (click)="subirFile('logo')" *ngIf="files.length > 0">
                      Subir Imagen
                  </button>
              </div>
              <ngx-dropzone (change)="onSelect($event, false)">
                  <ngx-dropzone-label>Abrir archivos</ngx-dropzone-label>
                  <ngx-dropzone-image-preview ngProjectAs="ngx-dropzone-preview" *ngFor="let f of files"
                      [file]="f" [removable]="true" (removed)="onRemove(f)" multiple="false">
                      <ngx-dropzone-label>{{ f.name }} ({{ f.type }})</ngx-dropzone-label>
                  </ngx-dropzone-image-preview>
              </ngx-dropzone>
            </div>

            <!-- üìã Datos de la Tienda -->
            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Nombre Tienda</mat-label>
                <input matInput type="text" [(ngModel)]="data.nombreTienda">
              </mat-form-field>
            </div>

            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>N√∫mero Celular Empresa o Fijo</mat-label>
                <input matInput type="text" [(ngModel)]="data.numeroCelular">
              </mat-form-field>
            </div>

            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Email Tienda</mat-label>
                <input matInput type="email" [(ngModel)]="data.emailTienda">
              </mat-form-field>
            </div>

            <div class="col-md-6">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Direcci√≥n</mat-label>
                <input matInput type="text" [(ngModel)]="data.direccionTienda">
              </mat-form-field>
            </div>

            <!-- ‚úÖ Activar Venta -->
            <div class="col-12">
              <mat-checkbox [(ngModel)]="data.configV"> Activar Venta</mat-checkbox>
            </div>

            <!-- üìÑ Descripci√≥n -->
            <div class="col-12">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Descripci√≥n de la Empresa</mat-label>
                <textarea matInput rows="3" [(ngModel)]="data.decripcion"></textarea>
              </mat-form-field>
            </div>

            <!-- üí∞ Detalle de Transferencia -->
            <div class="col-12">
              <mat-form-field appearance="outline" class="w-100">
                <mat-label>Detalle de Transferencia</mat-label>
                <textarea matInput rows="2" [(ngModel)]="data.textTransfer"></textarea>
              </mat-form-field>
            </div>

            <!-- üìå Bot√≥n de actualizar (Final) -->
            <div class="col-12 text-center mt-3">
              <button mat-raised-button color="primary" (click)="Actualizar()">
                <mat-icon>refresh</mat-icon> Actualizar Datos
              </button>
            </div>

          </div>

        </mat-card-content>
      </mat-card>
    </div>
    <div class="col-md-12">
      <mat-card>
        <mat-card-title>üé® Selecciona una Plantilla</mat-card-title>
        <mat-card-content>
          <mat-radio-group [(ngModel)]="data.plantilla" (change)="guardarPlantilla()">
            <mat-radio-button *ngFor="let plantilla of plantillas" [value]="plantilla.id">
              <mat-card class="plantilla-card">
                <img [src]="plantilla.imagen" alt="{{ plantilla.nombre }}" class="plantilla-img">
                <p>{{ plantilla.nombre }}</p>
              </mat-card>
            </mat-radio-button>
          </mat-radio-group>
        </mat-card-content>
      </mat-card>
      
      <!-- Bot√≥n para abrir configuraci√≥n avanzada -->
      <button mat-raised-button color="primary" (click)="abrirConfiguracion()">
        Configurar Apariencia
      </button>
      
    </div>
  </div>
</div>
