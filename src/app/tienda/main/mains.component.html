<mat-sidenav-container class="sidenav-container">

  <!-- Sidebar lateral -->
  <mat-sidenav #sidenav mode="side" position="end" class="cart-sidenav" [fixedInViewport]="true" [autoFocus]="false">
    <div class="cart-header">
      <h1>🛒 Tu Carrito</h1>
      <button class="close-btn" (click)="sidenav.close()">❌</button>
    </div>

    <div class="cart-container">
      <!-- Lista de productos en el carrito -->
      <div class="cart-items">
        <div *ngFor="let item of carrito" class="cart-item">
          <img [src]="item.foto" class="cart-img">
          <div>
            <p class="cart-title">{{ item.titulo }} ({{ item.talla }} - {{ item.color }})</p>
            <div class="cart-item-info">
              <p><strong>{{ _formato.monedaChange(3, 2, item.costoTotal) }}</strong></p>
              <p>Cantidad: <strong>{{ item.cantidad }}</strong></p>
              <button class="remove-button" (click)="eliminarDelCarrito(item.id)">❌</button>
            </div>
          </div>
        </div>

        <div class="empty-cart" *ngIf="carrito.length === 0">
          <h2>Tu Carrito está vacío 🛒</h2>
        </div>
      </div>

      <!-- Botón fijo en la parte inferior -->
      <div class="cart-footer">
        <button class="finalizar-compra-button" (click)="irAFormulario()">
          Finalizar Compra ({{ _formato.monedaChange(3, 2, totalPagar) }})
        </button>
      </div>
    </div>
  </mat-sidenav>

  <!-- Contenido Principal -->
  <mat-sidenav-content class="main-content">
    
    <!-- Banner -->
    <div class="banner" [ngStyle]="{'background-color': data['configuracion']?.colorFondo, 'color': data['configuracion']?.colorTexto}">
      <div class="moving-banner">
        <div class="moving-text">
          <ng-container *ngFor="let i of [1,2,3,4,5,6]">
            <h4>{{ (data['configuracion']?.txtbanner || 'Envío Gratis - Pagos Contra Entrega') }}</h4>
          </ng-container>
        </div>
      </div>
    </div>

    <!-- Nombre tienda -->
    <!--<div class="store-name" [ngStyle]="{'background-color': data['configuracion']?.colorFondo, 'color': data['configuracion']?.colorTexto}">
      <h1>{{ data?.nombreTienda }}</h1>
    </div>-->

    <app-menu-lateral></app-menu-lateral>
    <router-outlet></router-outlet>
    <!-- Botón flotante carrito (solo mobile) -->
     <!--
    <button class="cart-fab" (click)="sidenav.open()" *ngIf="carrito.length > 0">
      🛒 {{ carrito.length }}
    </button>-->
  </mat-sidenav-content>
</mat-sidenav-container>
